{
    "sourceFile": "lib/widgets/book_grid.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1728145029700,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1728145256162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,18 @@\n \r\n class BookGrid extends StatelessWidget {\r\n   final List<Book> books;\r\n   final Function(Book) onBookTap;\r\n+  final Function(Book, Offset) onDragStarted;\r\n+  final Function(Book) onDragEnd;\r\n \r\n-  const BookGrid({Key? key, required this.books, required this.onBookTap}) : super(key: key);\r\n+  const BookGrid({\r\n+    Key? key,\r\n+    required this.books,\r\n+    required this.onBookTap,\r\n+    required this.onDragStarted,\r\n+    required this.onDragEnd,\r\n+  }) : super(key: key);\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return GridView.builder(\r\n@@ -16,33 +24,47 @@\n       ),\r\n       itemCount: books.length,\r\n       itemBuilder: (context, index) {\r\n         final book = books[index];\r\n-        return GestureDetector(\r\n-          onTap: () => onBookTap(book),\r\n-          child: Card(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Expanded(\r\n-                  child: book.coverImagePath != null\r\n-                      ? Image.file(File(book.coverImagePath!), fit: BoxFit.cover)\r\n-                      : Container(color: Colors.grey),\r\n-                ),\r\n-                Padding(\r\n-                  padding: const EdgeInsets.all(8.0),\r\n-                  child: Column(\r\n-                    crossAxisAlignment: CrossAxisAlignment.start,\r\n-                    children: [\r\n-                      Text(book.title, style: Theme.of(context).textTheme.subtitle1),\r\n-                      Text(book.author, style: Theme.of(context).textTheme.caption),\r\n-                    ],\r\n-                  ),\r\n-                ),\r\n-              ],\r\n-            ),\r\n+        return LongPressDraggable<Book>(\r\n+          data: book,\r\n+          feedback: _buildBookCover(context, book, size: 100),\r\n+          childWhenDragging: _buildBookCover(context, book, opacity: 0.5),\r\n+          onDragStarted: () => onDragStarted(book, Offset.zero),\r\n+          onDragEnd: (_) => onDragEnd(book),\r\n+          child: GestureDetector(\r\n+            onTap: () => onBookTap(book),\r\n+            child: _buildBookCover(context, book),\r\n           ),\r\n         );\r\n       },\r\n     );\r\n   }\r\n+\r\n+  Widget _buildBookCover(BuildContext context, Book book, {double? size, double opacity = 1.0}) {\r\n+    return Opacity(\r\n+      opacity: opacity,\r\n+      child: Card(\r\n+        child: Column(\r\n+          crossAxisAlignment: CrossAxisAlignment.start,\r\n+          children: [\r\n+            Expanded(\r\n+              child: book.coverImagePath != null\r\n+                  ? Image.file(File(book.coverImagePath!), fit: BoxFit.cover)\r\n+                  : Container(color: Colors.grey),\r\n+            ),\r\n+            Padding(\r\n+              padding: const EdgeInsets.all(8.0),\r\n+              child: Column(\r\n+                crossAxisAlignment: CrossAxisAlignment.start,\r\n+                children: [\r\n+                  Text(book.title, style: Theme.of(context).textTheme.subtitle1),\r\n+                  Text(book.author, style: Theme.of(context).textTheme.caption),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1728145462126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,6 @@\n+import 'dart:io';\r\n+\r\n import 'package:flutter/material.dart';\r\n import '../models/book.dart';\r\n \r\n class BookGrid extends StatelessWidget {\r\n@@ -56,10 +58,10 @@\n               padding: const EdgeInsets.all(8.0),\r\n               child: Column(\r\n                 crossAxisAlignment: CrossAxisAlignment.start,\r\n                 children: [\r\n-                  Text(book.title, style: Theme.of(context).textTheme.subtitle1),\r\n-                  Text(book.author, style: Theme.of(context).textTheme.caption),\r\n+                  Text(book.title, style: Theme.of(context).textTheme.titleMedium),\r\n+                  Text(book.author, style: Theme.of(context).textTheme.bodySmall),\r\n                 ],\r\n               ),\r\n             ),\r\n           ],\r\n"
                }
            ],
            "date": 1728145029700,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport '../models/book.dart';\r\n\r\nclass BookGrid extends StatelessWidget {\r\n  final List<Book> books;\r\n  final Function(Book) onBookTap;\r\n\r\n  const BookGrid({Key? key, required this.books, required this.onBookTap}) : super(key: key);\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return GridView.builder(\r\n      gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\r\n        crossAxisCount: 3,\r\n        childAspectRatio: 0.7,\r\n      ),\r\n      itemCount: books.length,\r\n      itemBuilder: (context, index) {\r\n        final book = books[index];\r\n        return GestureDetector(\r\n          onTap: () => onBookTap(book),\r\n          child: Card(\r\n            child: Column(\r\n              crossAxisAlignment: CrossAxisAlignment.start,\r\n              children: [\r\n                Expanded(\r\n                  child: book.coverImagePath != null\r\n                      ? Image.file(File(book.coverImagePath!), fit: BoxFit.cover)\r\n                      : Container(color: Colors.grey),\r\n                ),\r\n                Padding(\r\n                  padding: const EdgeInsets.all(8.0),\r\n                  child: Column(\r\n                    crossAxisAlignment: CrossAxisAlignment.start,\r\n                    children: [\r\n                      Text(book.title, style: Theme.of(context).textTheme.subtitle1),\r\n                      Text(book.author, style: Theme.of(context).textTheme.caption),\r\n                    ],\r\n                  ),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      },\r\n    );\r\n  }\r\n}"
        }
    ]
}